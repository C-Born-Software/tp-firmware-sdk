From cb36d84c7e78b335103065d054a5a4beecad0716 Mon Sep 17 00:00:00 2001
From: Boerje Sewing <Boerje.Sewing@who-ing.de>
Date: Thu, 13 Apr 2017 09:25:33 +0200
Subject: [PATCH] src: bump to 4.9 kernel

Signed-off-by: Boerje Sewing <Boerje.Sewing@who-ing.de>
---
 arch/arm/boot/dts/wago-src-devconf-000c.dts |  45 ++
 arch/arm/boot/dts/wago-src-ksz8863.dtsi     | 160 ++++++
 arch/arm/boot/dts/wago-src.dtsi             | 844 ++++++++++++++++++++++++++++
 arch/arm/configs/wago_src_generic_defconfig | 472 ++++++++++++++++
 drivers/spi/spidev.c                        |   1 +
 5 files changed, 1522 insertions(+)
 create mode 100644 arch/arm/boot/dts/wago-src-devconf-000c.dts
 create mode 100644 arch/arm/boot/dts/wago-src-ksz8863.dtsi
 create mode 100644 arch/arm/boot/dts/wago-src.dtsi
 create mode 100644 arch/arm/configs/wago_src_generic_defconfig

diff --git a/arch/arm/boot/dts/wago-src-devconf-000c.dts b/arch/arm/boot/dts/wago-src-devconf-000c.dts
new file mode 100644
index 0000000..67263b5
--- /dev/null
+++ b/arch/arm/boot/dts/wago-src-devconf-000c.dts
@@ -0,0 +1,45 @@
+/*
+ * Copyright (C) 2011 Texas Instruments Incorporated - http://www.ti.com/
+ *
+ * This program is free software; you u7 redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+/dts-v1/;
+
+#include "wago-src.dtsi"
+
+/*
+ *
+ *   DEVCONF: 0x000C
+ *
+ *   15  14  13  12  11  10  9  8  7  6  5  4  3  2  1  0
+ *    |   |   |   |   |   |  |  |  |  |  |  |  |  |  |  |
+ *    x   x   x   x   x   x  x  x  x  x  x  x  |  |  x  x
+ *                                             |  |
+ *                                             |  RS232_485
+ *                                             ETHERNET_IP
+ *
+ */
+
+/*
+ * The devconf variable is a 16bit value.
+ * Data is stored in little endian format.
+ *
+ * 0x1fe |---------------------------------------|
+ *       |          DEVCONF Byte 0 (Low Byte)    |
+ *       | ------------------------------------- |
+ *       |          DEVCONF Byte 1 (High Byte)   |
+ * 0x200 |---------------------------------------|
+ *
+ *   15  14  13  12  11  10  9  8  7  6  5  4  3  2  1  0
+ *    |   |   |   |   |   |  |  |  |  |  |  |  |  |  |  |
+ *    x   x   x   x   x   x  x  x  x  x  |  |  |  |  |  PROFIBUS_SL
+ *                                       |  |  |  |  CAN
+ *                                       |  |  |  RS232_485
+ *                                       |  |  ETHERNET_IP
+ *                                       |  3G_MODEM
+ *					 DIP_SWITCH
+ *   x: reserved for future use
+ *
+ */
diff --git a/arch/arm/boot/dts/wago-src-ksz8863.dtsi b/arch/arm/boot/dts/wago-src-ksz8863.dtsi
new file mode 100644
index 0000000..d372921
--- /dev/null
+++ b/arch/arm/boot/dts/wago-src-ksz8863.dtsi
@@ -0,0 +1,160 @@
+/*
+ * Copyright (C) 2012 Texas Instruments Incorporated - http://www.ti.com/
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+/ {
+	aliases {
+		mdio-gpio0 = &bitbang_mdio0;
+	};
+
+	ksz8863 {
+		compatible = "micrel,ksz8863";
+		pinctrl-names = "default";
+		pinctrl-0 = <&ksz8863_pins>;
+		status = "okay";
+
+		ksz,reset-switch;
+		ksz,gpio-reset = <&gpio3 10 GPIO_ACTIVE_HIGH>; /*L18 MII1_RX_CLKgpio3[10] / RMII2.EN-PHY */
+		ksz,disable-internal-ldo;
+		ksz,mii-bus = <&bitbang_mdio0>;
+	};
+
+	dsa@0 {
+                /* set status to 'okay' to enable dsa */
+                status = "okay";
+
+		compatible = "marvell,dsa";
+		#address-cells = <2>;
+		#size-cells = <0>;
+
+		/* interrupts = <10>; --> not supported from the driver! */
+
+		/* master netdevice (eth0) */
+		dsa,ethernet = <&mac>; /* TODO: should we use 'cpsw_emac1' instead? */
+		dsa,mii-bus = <&bitbang_mdio0>;
+
+		switch@0 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <16 0>;	/* MDIO address 16, switch 0 in tree */
+
+			port@0 {
+				reg = <1>;
+				label = "ethX1"; /* This is X2100 */
+				phy-handle = <&phy1>;
+			};
+
+			port@1 {
+				reg = <2>;
+				label = "ethX2"; /* This is X2102 */
+				phy-handle = <&phy2>;
+			};
+
+			port@2 {
+				reg = <3>;
+				label = "cpu";
+			};
+		};
+	};
+};
+
+&am33xx_pinmux {
+
+	cpsw_default_pins: pinmux_cpsw_default_pins {
+		pinctrl-single,pins = <
+			0x040 (PIN_OUTPUT_PULLDOWN | MUX_MODE3) /* gpmc_a0.rmii2_txen */
+			0x050 (PIN_OUTPUT_PULLDOWN | MUX_MODE3) /* gpmc_a4.rmii2_txd1 */
+			0x054 (PIN_OUTPUT_PULLDOWN | MUX_MODE3) /* gpmc_a5.rmii2_txd0 */
+			0x068 (PIN_INPUT_PULLDOWN  | MUX_MODE3) /* gpmc_a10.rmii2_rxd1 */
+			0x06C (PIN_INPUT_PULLDOWN  | MUX_MODE3) /* gpmc_a11.rmii2_rxd0 */
+			0x074 (PIN_INPUT_PULLDOWN  | MUX_MODE3) /* gpmc_wpn.rmii2_rxer */
+			0x108 (PIN_INPUT_PULLDOWN  | MUX_MODE1) /* mii1_col.rmii2_refclk */
+			0x088 (PIN_INPUT_PULLDOWN  | MUX_MODE2) /* gpmc_csn3.rmii2_crs_dv */
+		>;
+	};
+
+	cpsw_sleep_pins: pinmux_cpsw_sleep_pins {
+		pinctrl-single,pins = <
+			0x040 (PIN_INPUT_PULLDOWN | MUX_MODE7)
+			0x050 (PIN_INPUT_PULLDOWN | MUX_MODE7)
+			0x054 (PIN_INPUT_PULLDOWN | MUX_MODE7)
+			0x068 (PIN_INPUT_PULLDOWN | MUX_MODE7)
+			0x06C (PIN_INPUT_PULLDOWN | MUX_MODE7)
+			0x074 (PIN_INPUT_PULLDOWN | MUX_MODE7)
+			0x108 (PIN_INPUT_PULLDOWN | MUX_MODE7)
+			0x088 (PIN_INPUT_PULLDOWN | MUX_MODE7)
+		>;
+	};
+
+	ksz8863_pins: pinmux_ksz8863_pins {
+		pinctrl-single,pins = <
+			0x130 (PIN_OUTPUT_PULLUP | MUX_MODE7) /* L18 MII1_RX_CLK      7 GPIO3_10->EN-PHY->Enable_Switch */
+		>;
+	};
+
+	gpio_bitbang_mdio_pins: pinmux_gpio_bitbang_mdio_pins {
+		pinctrl-single,pins = <
+			/* MDIO */
+			0x148 (PIN_INPUT_PULLUP | SLEWCTRL_FAST | MUX_MODE7)	/* M17: mdio.gpio0_0 (mdio_data), SLEWCTRL_FAST?? */
+			0x14c (PIN_OUTPUT_PULLUP | MUX_MODE7)			/* M18:  mdc.gpio0_1 (mdio_clk)                   */
+		>;
+	};
+
+	gpio_bitbang_mdio_sleep_pins: pinmux_gpio_bitbang_mdio_sleep_pins {
+		pinctrl-single,pins = <
+			/* MDIO reset value */
+			0x148 (PIN_INPUT_PULLDOWN 	| MUX_MODE7)	/* mdio.gpio0_0 */				//m17
+			0x14c (PIN_INPUT_PULLDOWN 	| MUX_MODE7)	/* mdc.gpio0_1   */				//m18
+		>;
+	};
+
+};
+
+&mac {
+	pinctrl-names = "default";
+	pinctrl-0 = <&cpsw_default_pins>;
+	pinctrl-1 = <&cpsw_sleep_pins>;
+	status = "okay";
+
+	mac_control = <0x18021>; /* force 100MBit full-duplex */
+	active_slave = <1>;
+};
+
+&bitbang_mdio0 {
+       status = "okay";
+       pinctrl-names = "default", "sleep";
+       pinctrl-0 = <&gpio_bitbang_mdio_pins>;
+       pinctrl-1 = <&gpio_bitbang_mdio_sleep_pins>;
+       gpios = <&gpio0 1 0	/* 0: mdc  */
+	        &gpio0 0 0>;   	/* 1: mdio */
+
+       phy1: ethernet-phy@1 {
+		compatible = "ethernet-phy-ieee802.3-c22";
+		reg = <1>;
+       };
+
+       phy2: ethernet-phy@2 {
+		compatible = "ethernet-phy-ieee802.3-c22";
+		reg = <2>;
+       };
+};
+
+/*
+ * Use a fixed phy for emac0.
+ * that's rgmii1
+ */
+&cpsw_emac1 {
+	phy-mode = "rmii";
+	fixed-link {
+		speed = <100>;
+		full-duplex;
+	};
+};
+
+&phy_sel {
+	rmii-clock-ext;
+};
diff --git a/arch/arm/boot/dts/wago-src.dtsi b/arch/arm/boot/dts/wago-src.dtsi
new file mode 100644
index 0000000..e895ba1
--- /dev/null
+++ b/arch/arm/boot/dts/wago-src.dtsi
@@ -0,0 +1,844 @@
+/*
+ * Copyright (C) 2012 Texas Instruments Incorporated - http://www.ti.com/
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+#include "am33xx.dtsi"
+#include <dt-bindings/interrupt-controller/irq.h>
+
+/* Varianten beim SRC
+ *
+ * FIXME: alle Varianten ermitteln und auf Abbildbarbeit pruefen (DALI, KNX, ...)
+ * SRC	        (Decke-Boden)  : 2ETH, RS232/485
+ * SRC-DALI	(Decke-Boden)  : 2ETH, RS232/485, DALI
+ *
+ * SRC-C	(Schaltschrank): 2ETH, RS232/485
+ * SRC-C DALI   (Schaltschrank): 2ETH, RS232/485, DALI
+ * SRC-C K-Bus  (Schaltschrank): 2ETH, RS232/485
+ *
+ */
+
+/ {
+	model = "Wago SRC";
+	compatible = "wago,src", "ti,am33xx";
+
+	cpus {
+		cpu@0 {
+			cpu0-supply = <&vdd1_reg>;
+
+			/*
+			 * To consider voltage drop between PMIC and SoC,
+			 * tolerance value is reduced to 2% from 4% and
+			 * voltage value is increased as a precaution.
+			 */
+			operating-points = <
+				/* kHz    uV */
+				/*1000000  1325000*/
+				/* 800000  1260000*/
+				/* 720000  1200000*/
+				 600000  1100000
+				 300000  950000
+			>;
+		};
+	};
+
+	aliases {
+		mdio-gpio0 = &bitbang_mdio0;
+	};
+
+	memory {
+		device_type = "memory";
+		reg = <0x80000000 0x10000000>; /* 256 MB */
+	};
+
+	vin: regulator@0 {
+		compatible = "regulator-fixed";
+		regulator-name = "v_in";
+		regulator-min-microvolt = <3300000>;
+		regulator-max-microvolt = <3300000>;
+	};
+
+	ksz8863 {
+		compatible = "micrel,ksz8863";
+		pinctrl-names = "default";
+		pinctrl-0 = <&ksz8863_pins>;
+		status = "okay";
+
+		ksz,reset-switch;
+		ksz,gpio-reset = <&gpio3 10 GPIO_ACTIVE_HIGH>; /*L18 MII1_RX_CLKgpio3[10] / RMII2.EN-PHY */
+		ksz,disable-internal-ldo;
+		ksz,mii-bus = <&bitbang_mdio0>;
+	};
+
+	wsysinit_init {
+		compatible = "wago,sysinit";
+		add-sysfs-entries;
+
+		tty,rs232-485 = "ttyO0";
+		/*tty,service   = "ttyO0";*/
+
+		board,variant = "src";
+		/* sysclock adjustments,
+		   empirical values */
+		adjtimex,tick = <10000>;
+		adjtimex,frequency = <2000000>;
+	};
+
+	/*
+	   this name of the gpio-keys device is a
+	   historical heritage from 3.6.11 kernel.
+	   the device-name is checked in omsd. So we
+	   need to adapt this configuration
+	*/
+	oms: PAC-Operating-Mode-Switch {
+		compatible = "gpio-keys";
+		#address-cells = <1>;
+		#size-cells = <0>;
+		autorepeat;
+
+		reset_all {
+			label = "RESET_ALL";
+			gpios = <&gpio3 19 GPIO_ACTIVE_HIGH>; /* BAS_RESET_ALL GPIO 83 */
+			linux,code = <4>;
+			linux,input-type = <1>;  /* EV_KEY */
+			debounce-interval = <1>; /* debounce ticks interval in msecs */
+		};
+
+		knx {
+			label = "KNX";
+			gpios = <&gpio3 13 GPIO_ACTIVE_HIGH>;
+			linux,code = <5>;
+			linux,input-type = <1>;  /* EV_KEY */
+			debounce-interval = <1>; /* debounce ticks interval in msecs */
+		};
+
+	};
+
+	dsa@0 {
+		compatible = "marvell,dsa";
+		#address-cells = <2>;
+		#size-cells = <0>;
+
+		/* interrupts = <10>; --> not supported from the driver! */
+
+		/* master netdevice (eth0) */
+		dsa,ethernet = <&mac>; /* TODO: should we use 'cpsw_emac1' instead? */
+		dsa,mii-bus = <&bitbang_mdio0>;
+
+		switch@0 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <16 0>;	/* MDIO address 16, switch 0 in tree */
+
+			port@0 {
+				reg = <1>;
+				label = "ethX1";
+				phy-handle = <&phy1>;
+				phy-pwrdown;
+			};
+
+			port@1 {
+				reg = <2>;
+				label = "ethX2";
+				phy-handle = <&phy2>;
+				phy-pwrdown;
+			};
+
+			port@2 {
+				reg = <3>;
+				label = "cpu";
+			};
+		};
+	};
+
+	/* LEDs DS and APP. Red color leds are driven by pwm to be able to
+	 * compensate temperature dependent yellow color.
+	 */
+	leds {
+		compatible = "gpio-leds";
+
+		pinctrl-names = "default";
+		pinctrl-0 = <&led_pins>;
+
+		app-green {
+			gpios=<&gpio2 24 GPIO_ACTIVE_HIGH>;
+			default-state="off";
+		};
+
+		ds-green {
+			gpios=<&gpio2 23 GPIO_ACTIVE_HIGH>;
+			default-state="on";
+		};
+	};
+
+	pwmleds {
+		compatible = "pwm-leds";
+
+		add-red {
+			label = "app-red";
+			pwms = <&ehrpwm2 0 50000 0>;
+			max-brightness = <255>;
+		};
+
+		ds-red {
+			label = "ds-red";
+			pwms = <&ehrpwm2 1 50000 0>;
+			max-brightness = <255>;
+			linux,default-trigger = "default-on";
+		};
+	};
+
+	/* X12 AO1 */
+	iocnt0: omap-iocnt {
+		compatible = "ti,omap-iocnt";
+		ti,timers = <&timer3>;
+	};
+
+};
+
+&elm {
+	status = "okay";
+};
+
+&gpmc {
+	pinctrl-names = "default";
+	pinctrl-0 = <&gpmc_pins>;
+
+	num-cs = <1>;
+	num-waitpins = <1>;
+	status = "okay";
+	ranges = <
+		0 0 0x08000000 0x01000000	/* CS0: NAND */
+	>;
+
+	nand: nand@0,0 {
+		compatible = "ti,omap2-nand";
+		reg = <0 0 4>; /* CS0, offset 0, IO size 4 */
+		nand-bus-width = <8>;
+		ti,nand-ecc-opt = "bch8";
+		gpmc,device-nand = "true";
+		gpmc,device-width = <1>;
+		gpmc,sync-clk-ps = <0>;
+		gpmc,cs-on-ns = <0>;
+		gpmc,cs-rd-off-ns = <44>;
+		gpmc,cs-wr-off-ns = <44>;
+		gpmc,adv-on-ns = <6>;
+		gpmc,adv-rd-off-ns = <34>;
+		gpmc,adv-wr-off-ns = <44>;
+		gpmc,we-on-ns = <0>;
+		gpmc,we-off-ns = <40>;
+		gpmc,oe-on-ns = <0>;
+		gpmc,oe-off-ns = <54>;
+		gpmc,access-ns = <64>;
+		gpmc,rd-cycle-ns = <82>;
+		gpmc,wr-cycle-ns = <82>;
+		gpmc,wait-pin = <0>;
+		gpmc,wait-on-read = "true";
+		gpmc,wait-on-write = "true";
+		gpmc,bus-turnaround-ns = <0>;
+		gpmc,cycle2cycle-delay-ns = <0>;
+		gpmc,clk-activation-ns = <0>;
+		gpmc,wait-monitoring-ns = <0>;
+		gpmc,wr-access-ns = <40>;
+		gpmc,wr-data-mux-bus-ns = <0>;
+
+		#address-cells = <1>;
+		#size-cells = <1>;
+		ti,elm-id = <&elm>;
+	};
+};
+&am33xx_pinmux {
+	gpio0_pins: pinmux_gpio0_pins {
+		pinctrl-single,pins = <
+			0x028 ( MUX_MODE7 | PIN_OUTPUT		) /* T11 GPMC_AD10		7   GPIO0_26->DO-RS->digital_Relay_output */
+			0x02c ( MUX_MODE7 | PIN_OUTPUT		) /* U12 GPMC_AD11		7   GPIO0_27->nRES_MOD->nRST_MOD->Card_Reset_or_Standby  */
+			0x0d0 ( MUX_MODE7 | PIN_INPUT		) /* V2 LCD_DATA12		7   GPIO0_8->SYSBOOT12*/
+			0x0d4 ( MUX_MODE7 | PIN_INPUT		) /* V3 LCD_DATA13		7   GPIO0_9->SYSBOOT13*/
+			0x0d8 ( MUX_MODE7 | PIN_INPUT		) /* V4 LCD_DATA14		7   GPIO0_10->SYSBOOT14*/
+			0x0dc ( MUX_MODE7 | PIN_INPUT		) /* T5 LCD_DATA15		7   GPIO0_11->SYSBOOT15*/
+			0x178 ( MUX_MODE7 | PIN_OUTPUT		) /* D18 UART1_CTSN		7   GPIO0_12->DO_CPU_HLK1 */
+			0x17c ( MUX_MODE7 | PIN_OUTPUT		) /* D17 UART1_RTSN		7   GPIO0_13->DO_CPU_HLK2 */
+			0x1b4 ( MUX_MODE2 | PIN_INPUT		) /* D14 XDMA_EVENT_INTR1       2   tclkin->CNT-FAN->Counter_input */
+			/* FIXME: for testing purposes configure count in as gpio */
+			// 0x1b4 ( MUX_MODE7 | PIN_INPUT		) /* D14 XDMA_EVENT_INTR1	7   GPIO0_20->CNT-FAN->Counter_input */
+		>;
+	};
+
+	gpio1_pins: pinmux_gpio1_pins {
+		pinctrl-single,pins = <
+			0x030 ( MUX_MODE7 | PIN_OUTPUT		) /* T12 GPMC_AD12		7   GPIO1_12->EN-V-SENSOR->Sensor_supply */
+			0x034 ( MUX_MODE7 | PIN_OUTPUT		) /* R12 GPMC_AD13		7   GPIO1_13->RCU_DE */
+			0x038 ( MUX_MODE7 | PIN_OUTPUT		) /* V13 GPMC_AD14		7   GPIO1_14->UART1_DE */
+			0x03c ( MUX_MODE7 | PIN_INPUT		) /* U13 GPMC_AD15		7   GPIO1_15->nERR-V-FUSED->Over_Current_detection */
+			0x044 ( MUX_MODE7 | PIN_OUTPUT		) /* V14 GPMC_A1		7   GPIO1_17->nRST_DALI->DALI_reset */
+			0x05c ( MUX_MODE7 | PIN_OUTPUT		) /* T15 GPMC_A7		7   GPIO1_23->UART_DIR_MOD*/
+			0x060 ( MUX_MODE7 | PIN_INPUT_PULLUP	) /* V16 GPMC_A8		7   GPIO1_24->nINT_MOD->Card_interrupt_request */
+			0x064 ( MUX_MODE7 | PIN_INPUT		) /* U16 GPMC_A9		7   GPIO1_25->nINT_EXT*/
+			0x080 ( MUX_MODE7 | PIN_OUTPUT		) /* U9 GPMC_CSN1		7   GPIO1_30->nBOOT_END->Boot_process_end */
+		>;
+	};
+
+	gpio2_pins: pinmux_gpio2_pins {
+		pinctrl-single,pins = <
+			0x08c ( MUX_MODE7 | PIN_INPUT_PULLUP	) /* V12 GPMC_CLK		7   GPIO2_1->nINT-RTC->RTC_Interrupt */
+			0x0a0 ( MUX_MODE7 | PIN_INPUT		) /* R1 LCD_DATA0		7   GPIO2_6->SYSBOOT0*/
+			0x0a4 ( MUX_MODE7 | PIN_INPUT		) /* R2 LCD_DATA1		7   GPIO2_7->SYSBOOT1*/
+			0x0a8 ( MUX_MODE7 | PIN_INPUT		) /* R3 LCD_DATA2		7   GPIO2_8->SYSBOOT2*/
+			0x0ac ( MUX_MODE7 | PIN_INPUT		) /* R4 LCD_DATA3		7   GPIO2_9->SYSBOOT3*/
+			0x0b0 ( MUX_MODE7 | PIN_INPUT		) /* T1 LCD_DATA4		7   GPIO2_10->SYSBOOT4*/
+			0x0b4 ( MUX_MODE7 | PIN_INPUT		) /* T2 LCD_DATA5		7   GPIO2_11->SYSBOOT5*/
+			0x0b8 ( MUX_MODE7 | PIN_INPUT		) /* T3 LCD_DATA6		7   GPIO2_12->SYSBOOT6*/
+			0x0bc ( MUX_MODE7 | PIN_INPUT		) /* T4 LCD_DATA7		7   GPIO2_13->SYSBOOT7*/
+			0x0c0 ( MUX_MODE7 | PIN_INPUT		) /* U1 LCD_DATA8		7   GPIO2_14->SYSBOOT8*/
+			0x0c4 ( MUX_MODE7 | PIN_INPUT		) /* U2 LCD_DATA9		7   GPIO2_15->SYSBOOT9*/
+			0x0ec ( MUX_MODE7 | PIN_OUTPUT		) /* R6 LCD_AC_BIAS_EN		7   GPIO2_25->EN-V-FUSED->Switch_UI */
+			0x134 ( MUX_MODE7 | PIN_OUTPUT		) /* L17 MII1_RXD3		7   GPIO2_18->UO-HLK1->1._universal_HLK_output */
+			0x138 ( MUX_MODE7 | PIN_OUTPUT		) /* L16 MII1_RXD2		7   GPIO2_19->UO-HLK2->2._universal_HLK_output */
+			//0x0e0 ( MUX_MODE7 | PIN_INPUT		  ) /* U5 LCD_VSYNC		  7   GPIO2_22->nINT-DALI->Interrupt_request_from_DALI */
+		>;
+	};
+
+	gpio3_pins: pinmux_gpio3_pins {
+		pinctrl-single,pins = <
+			0x118 ( MUX_MODE7 | PIN_OUTPUT		) /* J17 MII1_RX_DV		7   GPIO3_4->KBUS-nRST */
+			0x12c ( MUX_MODE7 | PIN_OUTPUT		) /* K18 MII1_TX_CLK		7   GPIO3_9->DO-PI->digital_PI_output */
+			0x1a0 ( MUX_MODE7 | PIN_INPUT_PULLUP	) /* B12 MCASP0_ACLKR		7   GPIO3_18->MMC0_nCD->SD_card_detect */
+			0x1a4 ( MUX_MODE7 | PIN_INPUT_PULLDOWN	) /* C13 MCASP0_FSR		7   GPIO3_19->CUST_RES->Customer_reset */
+			0x1a8 ( MUX_MODE7 | PIN_INPUT_PULLUP	) /* D13 MCASP0_AXR1		7   GPIO3_20->nPRESDET->Card_detect */
+			0x1ac ( MUX_MODE7 | PIN_OUTPUT		) /* A14 MCASP0_AHCLKX		7   GPIO3_21->DO-FAN->digital_FAN_output */
+			//0x1e4 ( MUX_MODE0 | PIN_INPUT		) /* C14 EMU0			0   EMU0 */
+			//0x1e8 ( MUX_MODE0 | PIN_INPUT		) /* B14 EMU1			0   EMU1 */
+			0x234 ( MUX_MODE7 | PIN_INPUT_PULLDOWN	) /* F15 USB1_DRVVBUS		7   GPIO3_13->KNX-SW->Application_Switch */
+		>;
+	};
+
+	uart0_pins: pinmux_uart0_pins {
+		pinctrl-single,pins = <
+			0x170 ( MUX_MODE0 | PIN_INPUT		) /* E15 UART0_RXD		0   UART0_RXD->DEBUG_RXD */
+			0x174 ( MUX_MODE0 | PIN_OUTPUT		) /* E16 UART0_TXD		0   UART0_TXD->DEBUG_TXD */
+		>;
+	};
+
+	uart1_pins: pinmux_uart1_pins {
+		pinctrl-single,pins = <
+			0x180 ( MUX_MODE0 | PIN_INPUT		) /* D16 UART1_RXD		0   UART1_RXD */
+			0x184 ( MUX_MODE0 | PIN_OUTPUT		) /* D15 UART1_TXD		0   UART1_TXD */
+		>;
+	};
+
+	uart3_pins: pinmux_uart3_pins {
+		pinctrl-single,pins = <
+			0x0c8 ( MUX_MODE6 | PIN_INPUT		) /* U3 LCD_DATA10		6   UART3_CTS->DALI_clear_to_send */
+			0x0cc ( MUX_MODE6 | PIN_INPUT		) /* U4 LCD_DATA11		6   UART3_RTS->DALI_request_to_send */
+			0x160 ( MUX_MODE1 | PIN_INPUT		) /* C15 SPI0_CS1		1   UART3_RXD->DALI_receive_data */
+			0x164 ( MUX_MODE1 | PIN_OUTPUT		) /* C18 ECAP0_IN_PWM0_OUT	1   UART3_TXD->DALI_transmit_data */
+		>;
+	};
+
+	uart4_pins: pinmux_uart4_pins {
+		pinctrl-single,pins = <
+			0x11c ( MUX_MODE3 | PIN_INPUT		) /* J18 MII1_TXD3		3   RCU_B-	*/
+			0x120 ( MUX_MODE3 | PIN_OUTPUT		) /* K15 MII1_TXD2		3   RCU_A+	*/
+		>;
+	};
+
+	led_pins: pinmux_led_pins {
+		pinctrl-single,pins = <
+			0x0e4 ( MUX_MODE7 | PIN_OUTPUT		) /* R5 LCD_HSYNC		7   GPIO2_23->Status_LED_green  */
+			0x0e8 ( MUX_MODE7 | PIN_OUTPUT		) /* V5 LCD_PCLK		7   GPIO2_24->Application_LED_green  */
+			//0x084 ( MUX_MODE7 | PIN_OUTPUT	) /* V9 GPMC_CSN2		7   GPIO1_31->K-BUS_LED_red */
+			//0x16c ( MUX_MODE7 | PIN_OUTPUT	) /* E17 UART0_RTSn		7   GPIO1_9->K-BUS_LED_green */
+		>;
+	};
+
+	pwm_led_pins: pinmux_pwm_led_pins {
+		pinctrl-single,pins = <
+			0x020 ( MUX_MODE4 | PIN_OUTPUT		) /* U10 GPMC_AD8		4   EHRPWM2A->Application_LED_red  */
+			0x024 ( MUX_MODE4 | PIN_OUTPUT		) /* T10 GPMC_AD9		4   EHRPWM2B->Status_LED_red  */
+		>;
+	};
+
+	ao_pins: pinmux_ao_pins {
+		pinctrl-single,pins = <
+			0x194 ( MUX_MODE1 | PIN_OUTPUT_PULLDOWN	) /* B13 MCASP0_FSX		1   EHRPWM0B->AO_PWM_FAN */
+		>;
+	};
+
+	uo_pins: pinmux_uo_pins {
+		pinctrl-single,pins = <
+			0x048 ( MUX_MODE6 | PIN_OUTPUT_PULLDOWN	) /* U14 GPMC_A2		6   EHRPWM1A->UO_PWM_HLK1 */
+			0x04c ( MUX_MODE6 | PIN_OUTPUT_PULLDOWN	) /* T14 GPMC_A3		6   EHRPWM1B->UO_PWM_HLK2 */
+		>;
+	};
+
+	i2c0_pins: pinmux_i2c0_pins {
+		pinctrl-single,pins = <
+			0x188 ( MUX_MODE0 | PIN_INPUT | SLEWCTRL_SLOW ) /* C17 I2C0_SDA		0   I2C0_SDA  */
+			0x18c ( MUX_MODE0 | PIN_INPUT | SLEWCTRL_SLOW ) /* C16 I2C0_SCL		0   I2C0_SCL  */
+		>;
+	};
+
+	spi0_pins: pinmux_spi0_pins {
+		pinctrl-single,pins = <
+			0x150 ( MUX_MODE0 | PIN_INPUT		) /* A17 SPI0_SCLK		0   SPI0_SCLK */
+			0x154 ( MUX_MODE0 | PIN_INPUT		) /* B17 SPI0_D0		0   SPI0_MISO */
+			0x158 ( MUX_MODE0 | PIN_OUTPUT		) /* B16 SPI0_D1		0   SPI0_MOSI */
+			0x15c ( MUX_MODE0 | PIN_OUTPUT_PULLUP	) /* A16 SPI0_CS0		0   SPI0_CS0  */
+		>;
+	};
+
+	spi1_pins: pinmux_spi1_pins {
+		pinctrl-single,pins = <
+			0x168 ( MUX_MODE4 | PIN_INPUT_PULLDOWN	) /* E18 UART0_CTSN		4   SPI1_D0->SPI1_MISO */
+			0x190 ( MUX_MODE3 | PIN_INPUT		) /* A13 MCASP0_ACLKX		3   SPI1_SCLK->Serial_clock */
+			0x198 ( MUX_MODE3 | PIN_OUTPUT		) /* D12 MCASP0_AXR0		3   SPI1_D1->SPI1_MOSI */
+			0x1b0 ( MUX_MODE4 | PIN_OUTPUT		) /* A15 XDMA_EVENT_INTR0	4   SPI1_CS1->SPI1_nCS1->Chip_select_fram */
+			//0x19c ( MUX_MODE4 | PIN_OUTPUT	  ) /* C12 MCASP0_AHCLKR	  4   SPI1_nCS0/spi1_cs0->Chip_select_kbus */
+		>;
+	};
+
+	usb0_pins: pinmux_usb0_pins {
+		pinctrl-single,pins = <
+			0x208 ( MUX_MODE0 | PIN_INPUT		) /* N18 USB0_DM		0   USB0_DM->Negative_data   */
+			0x20c ( MUX_MODE0 | PIN_INPUT		) /* N17 USB0_DP		0   USB0_DP->Positive_data   */
+			0x214 ( MUX_MODE0 | PIN_INPUT		) /* P16 USB0_ID		0   USB0_ID */
+			0x218 ( MUX_MODE0 | PIN_INPUT		) /* P15 USB0_VBUS		0   USB0_VBUS->USB_detect */
+			0x21c ( MUX_MODE0 | PIN_OUTPUT		) /* F16 USB0_DRVVBUS		0   GPIO0_18->USB0_DRVVBUS  */
+		>;
+	};
+
+	mmc1_pins: pinmux_mmc1_pins {
+		pinctrl-single,pins = <
+			0x0f0 ( MUX_MODE0 | PIN_INPUT_PULLUP	) /* F17 MMC0_DAT3		0   MMC0_D3   */
+			0x0f4 ( MUX_MODE0 | PIN_INPUT_PULLUP	) /* F18 MMC0_DAT2		0   MMC0_D2   */
+			0x0f8 ( MUX_MODE0 | PIN_INPUT_PULLUP	) /* G15 MMC0_DAT1		0   MMC0_D1   */
+			0x0fc ( MUX_MODE0 | PIN_INPUT_PULLUP	) /* G16 MMC0_DAT0		0   MMC0_D0   */
+			0x100 ( MUX_MODE0 | PIN_INPUT_PULLUP	) /* G17 MMC0_CLK		0   MMC0_CLK  */
+			0x104 ( MUX_MODE0 | PIN_INPUT_PULLUP	) /* G18 MMC0_CMD		0   MMC0_CMD  */
+		>;
+	};
+
+	gpmc_pins: pinmux_gpmc_pins {
+		pinctrl-single,pins = <
+			/* NV Memory NAND-Flash */
+			0x000 ( MUX_MODE0 | PIN_INPUT_PULLDOWN	) /* U7 GPMC_AD0		0   GPMC_AD0 	*/
+			0x004 ( MUX_MODE0 | PIN_INPUT_PULLDOWN	) /* V7 GPMC_AD1		0   GPMC_AD1 	*/
+			0x008 ( MUX_MODE0 | PIN_INPUT_PULLDOWN	) /* R8 GPMC_AD2		0   GPMC_AD2 	*/
+			0x00c ( MUX_MODE0 | PIN_INPUT_PULLDOWN	) /* T8 GPMC_AD3		0   GPMC_AD3 	*/
+			0x010 ( MUX_MODE0 | PIN_INPUT_PULLDOWN	) /* U8 GPMC_AD4		0   GPMC_AD4 	*/
+			0x014 ( MUX_MODE0 | PIN_INPUT_PULLDOWN	) /* V8 GPMC_AD5		0   GPMC_AD5 	*/
+			0x018 ( MUX_MODE0 | PIN_INPUT_PULLDOWN	) /* R9 GPMC_AD6		0   GPMC_AD6 	*/
+			0x01c ( MUX_MODE0 | PIN_INPUT_PULLDOWN	) /* T9 GPMC_AD7		0   GPMC_AD7 	*/
+			0x070 ( MUX_MODE0 | PIN_INPUT_PULLUP	) /* T17 GPMC_WAIT0		0   GPMC_WAIT0	  */
+			0x07c ( MUX_MODE0 | PIN_OUTPUT_PULLUP	) /* V6 GPMC_CSN0		0   GPMC_CSN0	   */
+			0x090 ( MUX_MODE0 | PIN_OUTPUT_PULLUP	) /* R7 GPMC_ADVN_ALE		0   GPMC_ADVn_ALE   */
+			0x094 ( MUX_MODE0 | PIN_OUTPUT_PULLUP	) /* T7 GPMC_OEN_REN		0   GPMC_OEn_REn */
+			0x098 ( MUX_MODE0 | PIN_OUTPUT_PULLUP	) /* U6 GPMC_WEN		0   GPMC_WEn	*/
+			0x09c ( MUX_MODE0 | PIN_OUTPUT_PULLUP	) /* T6 GPMC_BEN0_CLE		0   GPMC_BE0n_cle   */
+		>;
+	};
+
+
+	ksz8863_pins: pinmux_ksz8863_pins {
+		pinctrl-single,pins = <
+			0x130 (PIN_OUTPUT_PULLUP | MUX_MODE7) /* L18 MII1_RX_CLK      7 GPIO3_10->EN-PHY->Enable_Switch */
+			0x078 (MUX_MODE7 | PIN_INPUT_PULLUP)  /* U18 GPMC_BEN1        7 GPIO1_28->nINT-PHY->Switch Interrupt */
+		>;
+	};
+
+	cpsw_default_pins: pinmux_cpsw_default_pins {// RMII2 Ethernet Switch
+		pinctrl-single,pins = <
+			0x040 (PIN_OUTPUT_PULLDOWN 	| SLEWCTRL_FAST	| MUX_MODE3) 	/* gpmc_a0.rmii2_txen */		//r13
+			0x050 (PIN_OUTPUT_PULLDOWN 	| SLEWCTRL_FAST	| MUX_MODE3) 	/* gpmc_a4.rmii2_txd1 */		//r14
+			0x054 (PIN_OUTPUT_PULLDOWN 	| SLEWCTRL_FAST	| MUX_MODE3) 	/* gpmc_a5.rmii2_txd0 */		//v15
+			0x068 (PIN_INPUT_PULLDOWN 	| MUX_MODE3)  	/* gpmc_a10.rmii2_rxd1 */		//t16
+			0x06C (PIN_INPUT_PULLDOWN 	| MUX_MODE3)  	/* gpmc_a11.rmii2_rxd0 */		//v17
+			0x074 (PIN_INPUT_PULLDOWN 	| MUX_MODE3)  	/* gpmc_wpn.rmii2_rxer */		//u17
+			0x108 (PIN_INPUT_PULLDOWN 	| MUX_MODE1)  	/* mii1_col.rmii2_refclk */		//h16
+			0x088 (PIN_INPUT          	| MUX_MODE2)  	/* gpmc_csn3.rmii2_crs_dv */	//t13
+		>;
+	};
+
+	cpsw_sleep_pins: pinmux_cpsw_sleep_pins {
+		pinctrl-single,pins = <
+			0x040 (PIN_INPUT_PULLDOWN 	| MUX_MODE7) 	/* gpmc_a0.gpio1_16 */			//r13
+			0x050 (PIN_INPUT_PULLDOWN 	| MUX_MODE7) 	/* gpmc_a4.gpio1_20 */			//r14
+			0x054 (PIN_INPUT_PULLDOWN 	| MUX_MODE7) 	/* gpmc_a5.gpio1_21 */			//v15
+			0x068 (PIN_INPUT_PULLDOWN 	| MUX_MODE7)  	/* gpmc_a10.gpio1_26 */			//t16
+			0x06C (PIN_INPUT_PULLDOWN 	| MUX_MODE7)  	/* gpmc_a11.gpio1_27 */			//v17
+			0x074 (PIN_INPUT_PULLDOWN 	| MUX_MODE7)  	/* gpmc_wpn.gpio0_31 */			//u17
+			0x108 (PIN_INPUT_PULLDOWN 	| MUX_MODE7)  	/* mii1_col.gpio3_0 */			//h16
+			0x088 (PIN_INPUT_PULLDOWN 	| MUX_MODE7)  	/* gpmc_csn3.gpio2_0 */			//t13
+		>;
+	};
+
+	gpio_bitbang_mdio_pins: pinmux_gpio_bitbang_mdio_pins {
+		pinctrl-single,pins = <
+			/* MDIO */
+			0x148 (PIN_INPUT_PULLUP | SLEWCTRL_FAST | MUX_MODE7)	/* M17: mdio.gpio0_0 (mdio_data), SLEWCTRL_FAST?? */
+			0x14c (PIN_OUTPUT_PULLUP | MUX_MODE7)			/* M18:  mdc.gpio0_1 (mdio_clk)                   */
+		>;
+	};
+
+	gpio_bitbang_mdio_sleep_pins: pinmux_gpio_bitbang_mdio_sleep_pins {
+		pinctrl-single,pins = <
+			/* MDIO reset value */
+			0x148 (PIN_INPUT_PULLUP 	| MUX_MODE7)	/* mdio.gpio0_0 */				//m17
+			0x14c (PIN_INPUT_PULLDOWN 	| MUX_MODE7)	/* mdc.gpio0_1   */				//m18
+		>;
+	};
+
+};
+
+&edma {
+	ti,edma-xbar-event-map = /bits/ 16 <32 12>;
+};
+
+/*
+&spi0 {
+	status = "okay";
+	pinctrl-names = "default";
+	pinctrl-0 = <&spi0_pins>;
+
+	// FRAM - FM25CL64B-G
+	at25@0 {
+	compatible = "atmel,at25", "st,m95256";
+	reg = <0>;
+	spi-max-frequency = <20000000>;
+	spi-cpha;
+	spi-cpol;
+
+	pagesize = <8>;
+	size = <8192>;
+	address-width = <16>;
+	};
+
+
+};
+*/
+
+&spi1 {
+	status = "okay";
+	pinctrl-names = "default";
+	pinctrl-0 = <&spi1_pins>;
+
+	/* ATmega ISP */
+	spi1_0: spidev@0 {
+		compatible = "wago,wds";
+		reg = <0>;
+		spi-max-frequency = <10000000>; // FIXME
+	};
+};
+
+&i2c0 {
+	status = "okay";
+	clock-frequency = <400000>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&i2c0_pins>;
+
+	/* EEPROM */
+	eeprom: at24c32 { //AT24C32-SSHD
+			compatible = "atmel,24c32";
+			reg = <0x54>;
+			pagesize = <32>;
+	};
+
+	/* PMIC */
+	tps: tps65910@2d {
+		compatible = "ti,tps65910";
+		reg = <0x2d>;
+		export-enable2-regs-to-sysfs;
+	};
+
+	/* ADC */
+	mcp3428: mcp3428@68 {
+		compatible = "microchip,mcp3428";
+		reg = <0x68>;
+		status = "okay";
+	};
+
+	/* RTC */
+	rtc_r2221t {
+		compatible = "ricoh,r2221tl";
+		reg = <0x32>;
+
+		interrupt-parent = <&gpio3>;
+		interrupts = <21 IRQ_TYPE_LEVEL_LOW>;
+	};
+
+	/* CARD-Port-Expander */
+	/*pca9554pw { // Erweiterungsmodul / Einsteckkarte z.B. EnOcean-Modul
+		compatible = "nxp,pca9554";
+		reg = <0x20>;
+	};*/
+
+};
+
+#include "tps65910.dtsi"
+
+&tps {
+	vcc1-supply = <&vin>;
+	vcc2-supply = <&vin>;
+	vcc3-supply = <&vin>;
+	vcc4-supply = <&vin>;
+	vcc5-supply = <&vin>;
+	vcc6-supply = <&vin>;
+	vcc7-supply = <&vin>;
+	vccio-supply = <&vin>;
+
+	regulators {
+		vrtc_reg: regulator@0 {
+			regolator-always-on;
+		};
+
+		vio_reg: regulator@1 { // V_DDR+1V5
+			regulator-name = "v_ddr";
+			regulator-min-microvolt = <1500000>;
+			regulator-max-microvolt = <1500000>;
+			regulator-always-on;
+			regulator-boot-on;
+		};
+
+		vdd1_reg: regulator@2 { // V_MPU+1V1
+			regulator-name = "v_mpu";
+			regulator-min-microvolt = < 600000>;
+			regulator-max-microvolt = <1500000>;
+			regulator-boot-on;
+			regulator-always-on;
+		};
+
+		vdd2_reg: regulator@3 { //V_CORE +1V1
+			regulator-name = "v_core";
+			regulator-min-microvolt = < 600000>;
+			regulator-max-microvolt = <1500000>;
+			regulator-boot-on;
+			regulator-always-on;
+		};
+
+		vdig1_reg: regulator@5 { // V_ADC+1V8
+			regulator-name = "v_adc";
+			regulator-min-microvolt = <1800000>;
+			regulator-max-microvolt = <1800000>;
+			regulator-boot-on;
+			regulator-always-on;
+		};
+
+		vdig2_reg: regulator@6 { // V_PLL+1V8
+			regulator-name = "v_pll";
+			regulator-min-microvolt = <1800000>;
+			regulator-max-microvolt = <1800000>;
+			regulator-boot-on;
+			regulator-always-on;
+		};
+
+		vmmc_reg: regulator@12 { //V1_IO
+			regulator-name = "v_io";
+			regulator-min-microvolt = <3300000>;
+			regulator-max-microvolt = <3300000>;
+			regulator-always-on;
+			regulator-boot-on;
+		};
+	};
+};
+
+&tscadc {
+	status = "okay";
+
+	adc {
+		/* AIN0 Temp. Setpoint
+		   AIN1 DI1
+		   AIN2 DI2
+		   AIN3 DI3
+		   AIN4 DI4
+		   AIN5 UI1
+		   AIN6 UI2
+		   AIN7 U/I Measure
+		*/
+		ti,adc-channels = <0 1 2 3 4 5 6 7>;
+		ti,chan-step-opendelay = <0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00>;
+		ti,chan-step-sampledelay = <0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00>;
+		ti,chan-step-avg = <16 16 16 16 16 16 16 16>;
+	};
+};
+
+/* AO PWM */
+&epwmss0 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&ao_pins>;
+	status = "okay";
+};
+&ehrpwm0 {
+	status = "okay";
+};
+
+/* UO0/UO1 PWM */
+&epwmss1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&uo_pins>;
+	status = "okay";
+};
+&ehrpwm1 {
+	status = "okay";
+};
+
+/* Red APP/DS LED PWM */
+&epwmss2 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&pwm_led_pins>;
+	status = "okay";
+};
+&ehrpwm2 {
+	status = "okay";
+};
+
+&timer3 { /* X12 / CountIN */
+	status = "okay";
+};
+
+&gpio0 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&gpio0_pins>;
+};
+
+&gpio1 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&gpio1_pins>;
+};
+
+&gpio2 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&gpio2_pins>;
+};
+
+&gpio3 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&gpio3_pins>;
+};
+
+&uart0 {
+	/* Debug */
+	status = "okay";
+	pinctrl-names = "default";
+	pinctrl-0 = <&uart0_pins>;
+};
+
+&uart1 {
+	/* EXT */
+	status = "okay";
+	compatible = "ti,omap3-uart-rtu";
+	pinctrl-names = "default";
+	pinctrl-0 = <&uart1_pins>;
+	rts-gpio = <&gpio1 14 GPIO_ACTIVE_HIGH>;
+	rs485-rts-active-high;
+	linux,rs485-enabled-at-boot-time;
+};
+
+&uart3 {
+	/* DALI */
+	status = "okay";
+	pinctrl-names = "default";
+	pinctrl-0 = <&uart3_pins>;
+};
+
+&uart4 {
+	/* RCU */
+	status = "okay";
+	compatible = "ti,omap3-uart-rtu";
+	pinctrl-names = "default";
+	pinctrl-0 = <&uart4_pins>;
+	rts-gpio = <&gpio1 13 GPIO_ACTIVE_HIGH>;
+	rs485-rts-active-high;
+	linux,rs485-enabled-at-boot-time;
+};
+
+&usb {
+	status = "okay";
+	pinctrl-0 = <&usb0_pins>;
+};
+
+&usb_ctrl_mod {
+	status = "okay";
+};
+
+&usb0_phy {
+	status = "okay";
+};
+
+&usb0 {
+	status = "okay";
+	dr_mode = "peripheral";
+};
+
+&cppi41dma {
+	/* USB-DMA */
+	status = "okay";
+};
+
+&sham {
+	status = "okay";
+};
+
+&aes {
+	status = "okay";
+};
+
+&mmc1 {
+	/* SD-Card */
+	status = "okay";
+	pinctrl-names = "default";
+	pinctrl-0 = <&mmc1_pins>;
+	vmmc-supply = <&vmmc_reg>;
+	max-frequency = <26000000>;
+	bus-width = <4>;
+	cd-gpios = <&gpio3 18 GPIO_ACTIVE_HIGH>;
+	wp-gpios = <>;
+};
+
+&mac {
+	pinctrl-names = "default";
+	pinctrl-0 = <&cpsw_default_pins>;
+	pinctrl-1 = <&cpsw_sleep_pins>;
+	status = "okay";
+
+	mac_control = <0x18021>; /* force 100MBit full-duplex */
+	active_slave = <1>;
+};
+
+&bitbang_mdio0 {
+       status = "okay";
+       pinctrl-names = "default", "sleep";
+       pinctrl-0 = <&gpio_bitbang_mdio_pins>;
+       pinctrl-1 = <&gpio_bitbang_mdio_sleep_pins>;
+       gpios = <&gpio0 1 0	/* 0: mdc  */
+	        &gpio0 0 0>;   	/* 1: mdio */
+
+       phy1: ethernet-phy@1 {
+		compatible = "ethernet-phy-ieee802.3-c22";
+		reg = <1>;
+       };
+
+       phy2: ethernet-phy@2 {
+		compatible = "ethernet-phy-ieee802.3-c22";
+		reg = <2>;
+       };
+};
+
+/*
+ * Use a fixed phy for emac1.
+ * that's rgmii2
+ */
+&cpsw_emac1 {
+	phy-mode = "rmii";
+	fixed-link {
+		speed = <100>;
+		full-duplex;
+	};
+};
+
+&phy_sel {
+	rmii-clock-ext;
+};
+
+/include/ "pxc-nandparts.dtsi"
diff --git a/arch/arm/configs/wago_src_generic_defconfig b/arch/arm/configs/wago_src_generic_defconfig
new file mode 100644
index 0000000..eec204e
--- /dev/null
+++ b/arch/arm/configs/wago_src_generic_defconfig
@@ -0,0 +1,472 @@
+CONFIG_KERNEL_LZO=y
+CONFIG_SYSVIPC=y
+CONFIG_POSIX_MQUEUE=y
+CONFIG_IRQ_PRIORITY_TABLE=y
+CONFIG_IRQ_DOMAIN_DEBUG=y
+CONFIG_HIGH_RES_TIMERS=y
+CONFIG_BSD_PROCESS_ACCT=y
+CONFIG_BSD_PROCESS_ACCT_V3=y
+CONFIG_TASKSTATS=y
+CONFIG_TASK_DELAY_ACCT=y
+CONFIG_TASK_XACCT=y
+CONFIG_TASK_IO_ACCOUNTING=y
+CONFIG_IKCONFIG=y
+CONFIG_IKCONFIG_PROC=y
+CONFIG_CGROUPS=y
+CONFIG_CGROUP_FREEZER=y
+CONFIG_CGROUP_CPUACCT=y
+CONFIG_BLK_DEV_INITRD=y
+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
+CONFIG_EXPERT=y
+CONFIG_KALLSYMS_ALL=y
+# CONFIG_COMPAT_BRK is not set
+CONFIG_PROFILING=y
+CONFIG_KPROBES=y
+CONFIG_MODULES=y
+CONFIG_MODULE_FORCE_LOAD=y
+CONFIG_MODULE_UNLOAD=y
+CONFIG_MODULE_FORCE_UNLOAD=y
+CONFIG_MODVERSIONS=y
+CONFIG_MODULE_SRCVERSION_ALL=y
+CONFIG_BLK_DEV_BSGLIB=y
+CONFIG_BLK_DEV_INTEGRITY=y
+CONFIG_PARTITION_ADVANCED=y
+CONFIG_MAC_PARTITION=y
+CONFIG_OMAP_RESET_CLOCKS=y
+CONFIG_OMAP_MUX_DEBUG=y
+CONFIG_ARCH_OMAP3=y
+CONFIG_ARCH_OMAP4=y
+CONFIG_SOC_AM33XX=y
+CONFIG_WAGO_SYSTEM_BASED_STARTUP=y
+CONFIG_WAGO_USV=y
+# CONFIG_SOC_OMAP3430 is not set
+# CONFIG_SOC_TI81XX is not set
+# CONFIG_MACH_OMAP3517EVM is not set
+# CONFIG_MACH_OMAP3_PANDORA is not set
+CONFIG_ARM_THUMBEE=y
+CONFIG_SWP_EMULATE=y
+CONFIG_PREEMPT_RT_FULL=y
+# CONFIG_COMPACTION is not set
+CONFIG_UACCESS_WITH_MEMCPY=y
+# CONFIG_ATAGS is not set
+CONFIG_ZBOOT_ROM_TEXT=0x0
+CONFIG_ZBOOT_ROM_BSS=0x0
+CONFIG_KEXEC=y
+CONFIG_CPU_FREQ=y
+CONFIG_CPU_FREQ_STAT=y
+CONFIG_CPU_FREQ_STAT_DETAILS=y
+CONFIG_CPU_FREQ_GOV_USERSPACE=y
+CONFIG_CPUFREQ_DT=y
+CONFIG_CPU_IDLE=y
+CONFIG_BINFMT_MISC=y
+# CONFIG_SUSPEND is not set
+CONFIG_PM_DEBUG=y
+CONFIG_NET=y
+CONFIG_PACKET=y
+CONFIG_PACKET_DIAG=m
+CONFIG_UNIX=y
+CONFIG_UNIX_DIAG=m
+CONFIG_XFRM_USER=y
+CONFIG_NET_KEY=y
+CONFIG_NET_KEY_MIGRATE=y
+CONFIG_INET=y
+CONFIG_IP_MULTICAST=y
+CONFIG_IP_ADVANCED_ROUTER=y
+CONFIG_IP_MULTIPLE_TABLES=y
+CONFIG_IP_PNP=y
+CONFIG_IP_PNP_DHCP=y
+CONFIG_IP_PNP_BOOTP=y
+CONFIG_IP_PNP_RARP=y
+CONFIG_NET_IPIP=m
+CONFIG_NET_IPGRE_DEMUX=m
+CONFIG_NET_IPGRE=m
+CONFIG_IP_MROUTE=y
+CONFIG_IP_MROUTE_MULTIPLE_TABLES=y
+CONFIG_IP_PIMSM_V1=y
+CONFIG_IP_PIMSM_V2=y
+CONFIG_SYN_COOKIES=y
+CONFIG_INET_AH=y
+CONFIG_INET_ESP=y
+CONFIG_INET_IPCOMP=y
+CONFIG_INET_UDP_DIAG=m
+CONFIG_TCP_CONG_ADVANCED=y
+CONFIG_TCP_CONG_HSTCP=m
+CONFIG_TCP_CONG_HYBLA=m
+CONFIG_TCP_CONG_SCALABLE=m
+CONFIG_TCP_CONG_LP=m
+CONFIG_TCP_CONG_VENO=m
+CONFIG_TCP_CONG_YEAH=m
+CONFIG_TCP_CONG_ILLINOIS=m
+CONFIG_IPV6_ROUTER_PREF=y
+CONFIG_IPV6_ROUTE_INFO=y
+CONFIG_IPV6_OPTIMISTIC_DAD=y
+CONFIG_INET6_AH=m
+CONFIG_INET6_ESP=m
+CONFIG_INET6_IPCOMP=m
+CONFIG_IPV6_MIP6=m
+CONFIG_INET6_XFRM_MODE_TRANSPORT=m
+CONFIG_INET6_XFRM_MODE_TUNNEL=m
+CONFIG_INET6_XFRM_MODE_BEET=m
+CONFIG_INET6_XFRM_MODE_ROUTEOPTIMIZATION=m
+CONFIG_IPV6_SIT=m
+CONFIG_IPV6_GRE=m
+CONFIG_IPV6_MULTIPLE_TABLES=y
+CONFIG_IPV6_SUBTREES=y
+CONFIG_IPV6_MROUTE=y
+CONFIG_IPV6_MROUTE_MULTIPLE_TABLES=y
+CONFIG_IPV6_PIMSM_V2=y
+CONFIG_NETFILTER=y
+CONFIG_BRIDGE_NETFILTER=y
+CONFIG_NF_CONNTRACK=y
+CONFIG_NF_CONNTRACK_FTP=y
+CONFIG_NF_CONNTRACK_SNMP=y
+CONFIG_NF_CONNTRACK_TFTP=y
+CONFIG_NF_CT_NETLINK=y
+CONFIG_NETFILTER_XT_TARGET_TCPMSS=y
+CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
+CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
+CONFIG_NETFILTER_XT_MATCH_ESP=y
+CONFIG_NETFILTER_XT_MATCH_IPRANGE=y
+CONFIG_NETFILTER_XT_MATCH_LIMIT=y
+CONFIG_NETFILTER_XT_MATCH_MAC=y
+CONFIG_NETFILTER_XT_MATCH_MARK=y
+CONFIG_NETFILTER_XT_MATCH_POLICY=y
+CONFIG_NETFILTER_XT_MATCH_PHYSDEV=y
+CONFIG_IP_VS=m
+CONFIG_NF_CONNTRACK_IPV4=y
+CONFIG_IP_NF_IPTABLES=y
+CONFIG_IP_NF_MATCH_AH=y
+CONFIG_IP_NF_MATCH_ECN=m
+CONFIG_IP_NF_MATCH_RPFILTER=m
+CONFIG_IP_NF_MATCH_TTL=m
+CONFIG_IP_NF_FILTER=y
+CONFIG_IP_NF_TARGET_REJECT=y
+CONFIG_IP_NF_NAT=y
+CONFIG_IP_NF_TARGET_MASQUERADE=y
+CONFIG_IP_NF_MANGLE=y
+CONFIG_IP_NF_TARGET_ECN=m
+CONFIG_IP_NF_TARGET_TTL=m
+CONFIG_IP_NF_RAW=y
+CONFIG_IP_NF_SECURITY=m
+CONFIG_IP_NF_ARPTABLES=m
+CONFIG_IP_NF_ARPFILTER=m
+CONFIG_IP_NF_ARP_MANGLE=m
+CONFIG_IP6_NF_IPTABLES=m
+CONFIG_IP6_NF_MATCH_AH=m
+CONFIG_IP6_NF_MATCH_EUI64=m
+CONFIG_IP6_NF_MATCH_FRAG=m
+CONFIG_IP6_NF_MATCH_OPTS=m
+CONFIG_IP6_NF_MATCH_HL=m
+CONFIG_IP6_NF_MATCH_IPV6HEADER=m
+CONFIG_IP6_NF_MATCH_MH=m
+CONFIG_IP6_NF_MATCH_RPFILTER=m
+CONFIG_IP6_NF_MATCH_RT=m
+CONFIG_IP6_NF_TARGET_HL=m
+CONFIG_IP6_NF_FILTER=m
+CONFIG_IP6_NF_TARGET_REJECT=m
+CONFIG_IP6_NF_MANGLE=m
+CONFIG_IP6_NF_RAW=m
+CONFIG_IP6_NF_SECURITY=m
+CONFIG_BRIDGE_NF_EBTABLES=y
+CONFIG_BRIDGE_EBT_BROUTE=y
+CONFIG_BRIDGE_EBT_T_FILTER=y
+CONFIG_BRIDGE_EBT_T_NAT=y
+CONFIG_BRIDGE_EBT_IP=y
+CONFIG_BRIDGE_EBT_LIMIT=y
+CONFIG_BRIDGE_EBT_LOG=y
+CONFIG_L2TP=m
+CONFIG_L2TP_DEBUGFS=m
+CONFIG_BRIDGE=y
+CONFIG_VLAN_8021Q=m
+CONFIG_VLAN_8021Q_GVRP=y
+CONFIG_NET_SCHED=y
+CONFIG_NET_SCH_HTB=y
+CONFIG_NET_SCH_HFSC=y
+CONFIG_NET_SCH_PRIO=y
+CONFIG_NET_SCH_TBF=y
+CONFIG_NET_SCH_CODEL=y
+CONFIG_NET_SCH_FQ_CODEL=y
+CONFIG_NET_CLS_BASIC=y
+CONFIG_NET_CLS_TCINDEX=y
+CONFIG_NET_CLS_ROUTE4=y
+CONFIG_NET_CLS_FW=y
+CONFIG_NET_CLS_U32=y
+CONFIG_CLS_U32_PERF=y
+CONFIG_CLS_U32_MARK=y
+CONFIG_NET_CLS_RSVP=y
+CONFIG_NET_CLS_FLOW=y
+CONFIG_NET_CLS_CGROUP=m
+CONFIG_NET_EMATCH=y
+CONFIG_NET_EMATCH_CMP=y
+CONFIG_NET_EMATCH_NBYTE=y
+CONFIG_NET_EMATCH_U32=y
+CONFIG_NET_EMATCH_META=y
+CONFIG_NET_EMATCH_TEXT=y
+CONFIG_NET_CLS_ACT=y
+CONFIG_NET_ACT_POLICE=y
+CONFIG_NET_ACT_GACT=y
+CONFIG_GACT_PROB=y
+CONFIG_NET_ACT_MIRRED=y
+CONFIG_NET_ACT_IPT=y
+CONFIG_NET_ACT_NAT=y
+CONFIG_NET_ACT_PEDIT=y
+CONFIG_NET_ACT_SKBEDIT=y
+CONFIG_NET_ACT_CSUM=y
+CONFIG_NET_CLS_IND=y
+CONFIG_NETLINK_DIAG=y
+CONFIG_NET_SWITCHDEV=y
+CONFIG_BPF_JIT=y
+CONFIG_CAN=y
+CONFIG_CAN_GW=m
+CONFIG_CAN_VCAN=y
+CONFIG_CAN_TI_HECC=y
+CONFIG_CAN_C_CAN=y
+CONFIG_CAN_C_CAN_PLATFORM=y
+CONFIG_CAN_EMS_USB=m
+CONFIG_CAN_ESD_USB2=m
+CONFIG_CAN_PEAK_USB=m
+CONFIG_CAN_DEBUG_DEVICES=y
+# CONFIG_WIRELESS is not set
+CONFIG_RFKILL_REGULATOR=m
+CONFIG_DEVTMPFS=y
+CONFIG_DEVTMPFS_MOUNT=y
+CONFIG_OMAP_OCP2SCP=y
+CONFIG_CONNECTOR=y
+CONFIG_MTD=y
+CONFIG_MTD_CMDLINE_PARTS=y
+CONFIG_MTD_BLOCK=y
+CONFIG_MTD_CFI=y
+CONFIG_MTD_CFI_INTELEXT=y
+CONFIG_MTD_NAND=y
+CONFIG_MTD_NAND_ECC_BCH=y
+CONFIG_MTD_NAND_OMAP2=y
+CONFIG_MTD_NAND_OMAP_BCH=y
+CONFIG_MTD_UBI=y
+CONFIG_MTD_UBI_FASTMAP=y
+CONFIG_BLK_DEV_LOOP=m
+CONFIG_TI_SN74LV165A=y
+CONFIG_EEPROM_AT24=y
+CONFIG_EEPROM_AT25=y
+CONFIG_SCSI=y
+# CONFIG_SCSI_PROC_FS is not set
+CONFIG_BLK_DEV_SD=y
+CONFIG_SCSI_SCAN_ASYNC=y
+# CONFIG_SCSI_LOWLEVEL is not set
+CONFIG_NETDEVICES=y
+CONFIG_TUN=y
+CONFIG_NET_DSA_KSZ8863=y
+# CONFIG_NET_CADENCE is not set
+# CONFIG_NET_VENDOR_BROADCOM is not set
+# CONFIG_NET_VENDOR_CIRRUS is not set
+# CONFIG_NET_VENDOR_FARADAY is not set
+# CONFIG_NET_VENDOR_INTEL is not set
+# CONFIG_NET_VENDOR_MARVELL is not set
+# CONFIG_NET_VENDOR_MICROCHIP is not set
+# CONFIG_NET_VENDOR_NATSEMI is not set
+# CONFIG_NET_VENDOR_SEEQ is not set
+# CONFIG_NET_VENDOR_SMSC is not set
+# CONFIG_NET_VENDOR_STMICRO is not set
+CONFIG_TI_DAVINCI_EMAC=y
+CONFIG_TI_CPSW=y
+CONFIG_TI_CPTS=y
+# CONFIG_NET_VENDOR_WIZNET is not set
+CONFIG_SWCONFIG=y
+CONFIG_MDIO_BITBANG=y
+CONFIG_MDIO_GPIO=y
+CONFIG_MICREL_KSZ8863_PHY=y
+CONFIG_MICREL_PHY=y
+CONFIG_SWCFG_KSZ8863=y
+CONFIG_PPP=y
+CONFIG_PPP_DEFLATE=y
+CONFIG_PPP_FILTER=y
+CONFIG_PPP_MPPE=y
+CONFIG_PPP_MULTILINK=y
+CONFIG_PPP_ASYNC=y
+CONFIG_PPP_SYNC_TTY=y
+CONFIG_USB_USBNET=y
+# CONFIG_USB_NET_AX8817X is not set
+# CONFIG_USB_NET_AX88179_178A is not set
+# CONFIG_USB_NET_CDCETHER is not set
+# CONFIG_USB_NET_CDC_NCM is not set
+# CONFIG_USB_NET_NET1080 is not set
+# CONFIG_USB_NET_CDC_SUBSET is not set
+# CONFIG_USB_NET_ZAURUS is not set
+CONFIG_USB_NET_QMI_WWAN=y
+# CONFIG_WLAN is not set
+# CONFIG_INPUT_MOUSEDEV is not set
+CONFIG_INPUT_EVDEV=y
+# CONFIG_KEYBOARD_ATKBD is not set
+CONFIG_KEYBOARD_GPIO=y
+# CONFIG_INPUT_MOUSE is not set
+# CONFIG_SERIO is not set
+# CONFIG_VT is not set
+# CONFIG_LEGACY_PTYS is not set
+CONFIG_SERIAL_OMAP=y
+CONFIG_SERIAL_OMAP_RTU=y
+CONFIG_SERIAL_OMAP_CONSOLE=y
+CONFIG_HW_RANDOM=y
+# CONFIG_I2C_COMPAT is not set
+CONFIG_I2C_CHARDEV=y
+CONFIG_I2C_MUX=y
+CONFIG_I2C_MUX_PCA9541=y
+CONFIG_I2C_MUX_PCA954x=y
+CONFIG_SPI=y
+CONFIG_SPI_OMAP24XX=y
+CONFIG_SPI_SC18IS602=m
+CONFIG_SPI_XCOMM=m
+CONFIG_SPI_SPIDEV=y
+CONFIG_SPI_KBUS=y
+CONFIG_PINCTRL_SINGLE=y
+CONFIG_DEBUG_GPIO=y
+CONFIG_GPIO_SYSFS=y
+CONFIG_GPIO_PCA953X=y
+CONFIG_GPIO_PCA953X_IRQ=y
+CONFIG_GPIO_PCF857X=y
+CONFIG_GPIO_TWL4030=y
+CONFIG_W1=y
+CONFIG_W1_MASTER_GPIO=y
+CONFIG_HDQ_MASTER_OMAP=m
+CONFIG_W1_SLAVE_THERM=y
+CONFIG_W1_SLAVE_SMEM=y
+CONFIG_W1_SLAVE_DS2408=m
+CONFIG_W1_SLAVE_DS2423=m
+CONFIG_W1_SLAVE_DS2431=m
+CONFIG_W1_SLAVE_DS2433=m
+CONFIG_W1_SLAVE_DS2433_CRC=y
+CONFIG_W1_SLAVE_DS2760=m
+CONFIG_W1_SLAVE_DS2780=m
+CONFIG_W1_SLAVE_DS2781=m
+CONFIG_W1_SLAVE_DS28E04=m
+CONFIG_W1_SLAVE_BQ27000=m
+# CONFIG_HWMON is not set
+CONFIG_WATCHDOG=y
+CONFIG_GPIO_WATCHDOG=y
+CONFIG_OMAP_WATCHDOG=y
+CONFIG_MFD_TI_AM335X_TSCADC=y
+CONFIG_MFD_TPS65218=y
+CONFIG_MFD_TPS65910=y
+CONFIG_REGULATOR_PBIAS=y
+CONFIG_REGULATOR_TPS65218=y
+CONFIG_REGULATOR_TPS65910=y
+# CONFIG_HID_GENERIC is not set
+# CONFIG_USB_HID is not set
+CONFIG_USB=y
+CONFIG_USB_ANNOUNCE_NEW_DEVICES=y
+CONFIG_USB_OTG=y
+CONFIG_USB_EHCI_HCD=y
+CONFIG_USB_OHCI_HCD=y
+CONFIG_USB_STORAGE=y
+CONFIG_USB_MUSB_HDRC=y
+CONFIG_USB_MUSB_OMAP2PLUS=y
+CONFIG_USB_MUSB_AM35X=y
+CONFIG_USB_MUSB_DSPS=y
+CONFIG_USB_INVENTRA_DMA=y
+CONFIG_USB_TI_CPPI41_DMA=y
+CONFIG_USB_SERIAL=y
+CONFIG_USB_SERIAL_QUALCOMM=y
+CONFIG_USB_SERIAL_OPTION=y
+CONFIG_NOP_USB_XCEIV=y
+CONFIG_AM335X_PHY_USB=y
+CONFIG_USB_GPIO_VBUS=m
+CONFIG_USB_ULPI=y
+CONFIG_USB_GADGET=y
+CONFIG_USB_G_SERIAL=m
+CONFIG_MMC=y
+CONFIG_SDIO_UART=m
+CONFIG_MMC_OMAP_HS=y
+CONFIG_NEW_LEDS=y
+CONFIG_LEDS_CLASS=y
+CONFIG_LEDS_GPIO=y
+CONFIG_LEDS_PCA955X=y
+CONFIG_LEDS_PWM=y
+CONFIG_LEDS_TRIGGERS=y
+CONFIG_LEDS_TRIGGER_TIMER=y
+CONFIG_LEDS_TRIGGER_ONESHOT=y
+CONFIG_LEDS_TRIGGER_HEARTBEAT=y
+CONFIG_LEDS_TRIGGER_GPIO=y
+CONFIG_LEDS_TRIGGER_DEFAULT_ON=y
+CONFIG_LEDS_TRIGGER_TRANSIENT=y
+CONFIG_RTC_CLASS=y
+CONFIG_RTC_DRV_RS5C372=y
+CONFIG_RTC_DRV_RS5C372_IRQ_SUPPORT=y
+CONFIG_RTC_DRV_ISL1208=y
+CONFIG_DMADEVICES=y
+CONFIG_DMA_OMAP=y
+CONFIG_TI_EDMA=y
+CONFIG_ASYNC_TX_DMA=y
+CONFIG_DMATEST=m
+CONFIG_UIO=y
+CONFIG_UIO_PDRV_GENIRQ=y
+CONFIG_STAGING=y
+CONFIG_HWSPINLOCK_OMAP=m
+# CONFIG_IOMMU_SUPPORT is not set
+CONFIG_IIO=y
+CONFIG_IIO_BUFFER_CB=y
+CONFIG_IIO_CONFIGFS=y
+CONFIG_IIO_TRIGGER=y
+CONFIG_MCP3422=y
+CONFIG_TI_AM335X_ADC=y
+CONFIG_PWM=y
+CONFIG_PWM_TIECAP=y
+CONFIG_PWM_TIEHRPWM=y
+CONFIG_OMAP_USB2=y
+CONFIG_EXT4_FS=y
+CONFIG_EXT4_FS_POSIX_ACL=y
+CONFIG_EXT4_FS_SECURITY=y
+CONFIG_FANOTIFY=y
+CONFIG_QUOTA=y
+# CONFIG_PRINT_QUOTA_WARNING is not set
+CONFIG_QFMT_V2=y
+CONFIG_AUTOFS4_FS=m
+CONFIG_FUSE_FS=y
+CONFIG_CUSE=m
+CONFIG_MSDOS_FS=y
+CONFIG_VFAT_FS=y
+CONFIG_NTFS_FS=y
+CONFIG_NTFS_RW=y
+CONFIG_TMPFS=y
+CONFIG_TMPFS_POSIX_ACL=y
+CONFIG_CONFIGFS_FS=y
+CONFIG_UBIFS_FS=y
+CONFIG_NFS_FS=y
+CONFIG_NFS_V3_ACL=y
+CONFIG_NFS_V4=y
+CONFIG_NFS_SWAP=y
+CONFIG_ROOT_NFS=y
+CONFIG_NLS_CODEPAGE_437=y
+CONFIG_NLS_ISO8859_1=y
+CONFIG_NLS_UTF8=y
+CONFIG_PRINTK_TIME=y
+CONFIG_DYNAMIC_DEBUG=y
+CONFIG_DEBUG_INFO=y
+CONFIG_MAGIC_SYSRQ=y
+CONFIG_SCHEDSTATS=y
+CONFIG_TIMER_STATS=y
+CONFIG_FUNCTION_TRACER=y
+CONFIG_DEBUG_LL=y
+CONFIG_DEBUG_AM33XXUART1=y
+CONFIG_EARLY_PRINTK=y
+CONFIG_SECURITY=y
+CONFIG_SECURITYFS=y
+CONFIG_CRYPTO_USER=y
+CONFIG_CRYPTO_CCM=y
+CONFIG_CRYPTO_GCM=y
+CONFIG_CRYPTO_XCBC=y
+CONFIG_CRYPTO_MICHAEL_MIC=y
+CONFIG_CRYPTO_BLOWFISH=y
+CONFIG_CRYPTO_CAMELLIA=y
+CONFIG_CRYPTO_CAST5=y
+CONFIG_CRYPTO_CAST6=y
+CONFIG_CRYPTO_SERPENT=y
+CONFIG_CRYPTO_TWOFISH=y
+CONFIG_CRYPTO_ANSI_CPRNG=y
+CONFIG_CRYPTO_USER_API_HASH=y
+CONFIG_CRYPTO_USER_API_SKCIPHER=y
+CONFIG_CRYPTO_DEV_OMAP_SHAM=y
+CONFIG_CRYPTO_DEV_OMAP_AES=y
+CONFIG_ASYMMETRIC_KEY_TYPE=y
+CONFIG_ASYMMETRIC_PUBLIC_KEY_SUBTYPE=y
+CONFIG_X509_CERTIFICATE_PARSER=y
+CONFIG_CRC_ITU_T=y
+CONFIG_CRC7=y
+CONFIG_LIBCRC32C=y
diff --git a/drivers/spi/spidev.c b/drivers/spi/spidev.c
index 2e05046..16b3581 100644
--- a/drivers/spi/spidev.c
+++ b/drivers/spi/spidev.c
@@ -696,6 +696,7 @@ static struct class *spidev_class;
 static const struct of_device_id spidev_dt_ids[] = {
 	{ .compatible = "rohm,dh2228fv" },
 	{ .compatible = "lineartechnology,ltc2488" },
+	{ .compatible = "wago,wds" },
 	{},
 };
 MODULE_DEVICE_TABLE(of, spidev_dt_ids);
-- 
2.7.4


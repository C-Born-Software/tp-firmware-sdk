diff -Naur xorg-server-1.17.4_org/hw/xfree86/common/compiler.h xorg-server-1.17.4/hw/xfree86/common/compiler.h
--- xorg-server-1.17.4_org/hw/xfree86/common/compiler.h	2015-10-27 21:12:00.000000000 +0100
+++ xorg-server-1.17.4/hw/xfree86/common/compiler.h	2020-08-04 16:22:53.642679673 +0200
@@ -758,36 +758,6 @@
     return xf86ReadMmio32Le((void *) ioBase, port);
 }
 
-#elif defined(__arm__) && defined(__linux__)
-
-/* for Linux on ARM, we use the LIBC inx/outx routines */
-/* note that the appropriate setup via "ioperm" needs to be done */
-/*  *before* any inx/outx is done. */
-
-#include <sys/io.h>
-
-static __inline__ void
-xf_outb(unsigned short port, unsigned char val)
-{
-    outb(val, port);
-}
-
-static __inline__ void
-xf_outw(unsigned short port, unsigned short val)
-{
-    outw(val, port);
-}
-
-static __inline__ void
-xf_outl(unsigned short port, unsigned int val)
-{
-    outl(val, port);
-}
-
-#define outb xf_outb
-#define outw xf_outw
-#define outl xf_outl
-
 #elif defined(__nds32__)
 
 /*
diff -Naur xorg-server-1.17.4_org/hw/xfree86/common/xf86Xinput.c xorg-server-1.17.4/hw/xfree86/common/xf86Xinput.c
--- xorg-server-1.17.4_org/hw/xfree86/common/xf86Xinput.c	2015-10-27 21:12:01.000000000 +0100
+++ xorg-server-1.17.4/hw/xfree86/common/xf86Xinput.c	2020-08-04 15:27:43.689312595 +0200
@@ -82,6 +82,7 @@
 #include <stdarg.h>
 #include <stdint.h>             /* for int64_t */
 #include <sys/types.h>
+#include <sys/sysmacros.h>
 #include <sys/stat.h>
 #include <unistd.h>
 #ifdef HAVE_SYS_MKDEV_H
diff -Naur xorg-server-1.17.4_org/hw/xfree86/os-support/linux/lnx_init.c xorg-server-1.17.4/hw/xfree86/os-support/linux/lnx_init.c
--- xorg-server-1.17.4_org/hw/xfree86/os-support/linux/lnx_init.c	2015-10-27 21:12:01.000000000 +0100
+++ xorg-server-1.17.4/hw/xfree86/os-support/linux/lnx_init.c	2020-08-04 15:53:46.564737804 +0200
@@ -37,6 +37,7 @@
 #include "xf86_OSlib.h"
 
 #include <sys/stat.h>
+#include <sys/sysmacros.h>
 
 #ifndef K_OFF
 #define K_OFF 0x4
